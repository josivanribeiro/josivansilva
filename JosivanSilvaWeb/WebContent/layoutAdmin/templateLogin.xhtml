<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:ui="http://java.sun.com/jsf/facelets">
	<f:view contentType="text/html">
		<h:head>
			<title>Josivan Silva | Personal Website</title>
			<link rel="SHORTCUT ICON" href="#{request.contextPath}/resources/images/favicon.ico"/>
			<script src="#{request.contextPath}/resources/javascript/jquery-1.9.1.js"         type="text/javascript"></script>
			<script src="#{request.contextPath}/resources/javascript/jquery-migrate-1.1.0.js" type="text/javascript"></script>
			<script src="#{request.contextPath}/resources/javascript/functions.js"            type="text/javascript"></script>
			<script src='#{request.contextPath}/resources/javascript/popbox.js'               type='text/javascript' charset='utf-8'></script>
			<script src='#{request.contextPath}/resources/javascript/popbox.min'              type='text/javascript' charset='utf-8'></script>
			<style type="text/css">
				@import url("#{request.contextPath}/resources/css/style.css");
			</style>
			
			<script type="text/javascript">
 
			   $(document).ready(function() {
					$("#form-login").submit(function() {
						return isValidForm ();
					});					
					checkLoginError ();
			   });

			   /**
			    * Checks if the form is fulfilled or not.
			    * 
			    * @returns {boolean} boolean containing the operation result.
			    */
			   function isValidForm () {
					var isValid  = true;
					var username = document.getElementById ("form-login:username").value;
					var pwd 	 = document.getElementById ("form-login:pwd").value;
					if (isEmpty (username) || isEmpty (pwd)) {
						isValid = false;
						showMessage (2, "Please fill in all fields.");
					}
					return isValid;
			   }
			    
			   /**
			     * Checks if exists a login error, if so, 
			     * a error message will be printed.
			    */
			   function checkLoginError () {
				   var loginError = null;
				   loginError     = getUrlVars()["error"];
				   if (!isEmpty (loginError)) {
					   showMessage (3, "Username/password incorrect.");
					   // redirects to the login.page (without parameters)
					   // after 5 seconds
					   setTimeout(function(){redirectTo ("login.page")}, 5000);
				   }				   
			   }			  
 
		</script>
			
			
		</h:head>
		<h:body>
			<!-- page -->
			<div id="page">
				<!-- content -->
				<div id="main-internal">
					<ui:insert name="body">
						...
					</ui:insert>
				</div>
			</div>
		</h:body>
	</f:view>
</html>